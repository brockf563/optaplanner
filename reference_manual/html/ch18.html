<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 18. Development</title><link rel="stylesheet" type="text/css" href="css/jbossorg.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><link rel="home" href="index.html" title="OptaPlanner User Guide"/><link rel="up" href="index.html" title="OptaPlanner User Guide"/><link rel="prev" href="ch17.html" title="Chapter 17. Design Patterns"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ch17.html"><strong>Prev</strong></a></li><li class="next"/></ul><div class="chapter" title="Chapter 18. Development"><div class="titlepage"><div><div><h2 class="title"><a id="development"/>Chapter 18. Development</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch18.html#methodologyOverview">18.1. Methodology Overview</a></span></dt><dt><span class="section"><a href="ch18.html#developmentGuidelines">18.2. Development guidelines</a></span></dt></dl></div><div class="section" title="18.1. Methodology Overview"><div class="titlepage"><div><div><h2 class="title"><a id="methodologyOverview"/>18.1. Methodology Overview</h2></div></div></div><p>The diagram below explains the overall structure of the OptaPlanner source code:</p><div class="mediaobject"><img src="images/Chapter-Development/methodologyOverview.png"/></div><p>In the diagram above, it's important to understand the clear separation between the configuration and runtime
    classes.</p><p>The development philosophy includes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="bold"><strong>Reuse</strong></span>: The examples are reused as integration tests, stress tests and
        demo's. The documentation images are reused as slides.</p></li><li class="listitem"><p><span class="bold"><strong>Consistent terminology</strong></span>: Each example has a class <code class="literal">App</code>
        (executable class), <code class="literal">Dao</code> (Data Access Object) and <code class="literal">Panel</code> (swing UI).</p></li><li class="listitem"><p><span class="bold"><strong>Consistent structure</strong></span>: Each example has the same packages:
        <code class="literal">domain</code>, <code class="literal">persistence</code>, <code class="literal">app</code>, <code class="literal">solver</code> and
        <code class="literal">swingui</code>.</p></li><li class="listitem"><p><span class="bold"><strong>Real world usefulness</strong></span>: Every feature is used in an example. Most examples
        are real world use cases with real world constraints, often with real world data.</p></li><li class="listitem"><p><span class="bold"><strong>Automated testing</strong></span>: There are unit tests, integration tests, performance
        regressions tests and stress tests. The test coverage is high.</p></li><li class="listitem"><p><span class="bold"><strong>Fail fast with an understandable error message</strong></span>: Invalid states are
        checked as early as possible.</p></li></ul></div></div><div class="section" title="18.2. Development guidelines"><div class="titlepage"><div><div><h2 class="title"><a id="developmentGuidelines"/>18.2. Development guidelines</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Fail fast. There are several levels of fail fast, from better to worse:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p><span class="bold"><strong>Fail Fast at compile time</strong></span>. For example: Don't accept an
            <code class="literal">Object</code> as parameter if it needs to be a <code class="literal">String</code> or an
            <code class="literal">Integer</code>.</p></li><li class="listitem"><p><span class="bold"><strong>Fail Fast at startup time</strong></span>. For example: if the configuration
            parameter needs to be a positive <code class="literal">int</code> and it's negative, fail fast</p></li><li class="listitem"><p><span class="bold"><strong>Fail Fast at runtime</strong></span>. For example: if the request needs to contain a
            double between <code class="literal">0.0</code> and <code class="literal">1.0</code> and it's bigger than
            <code class="literal">1.0</code>, fail fast.</p></li><li class="listitem"><p><span class="bold"><strong>Fail Fast at runtime in assertion mode</strong></span> if the detection performance
            cost is high. For example: If, after every low level iteration, the variable A needs to be equal to the
            square root of B, check it if and only if an assert flag is set to true (usually controlled by the <a class="link" href="ch04.html#environmentMode" title="4.4.3. Environment Mode: Are There Bugs in my Code?">EnvironmentMode</a>).</p></li></ol></div></li><li class="listitem"><p><code class="literal">Exception</code> messages</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>The <code class="literal">Exception</code> message must include the name and state of each relevant variable.
            For example:</p><pre><code class="language-java">if (fooSize &lt; 0) {
    throw new IllegalArgumentException("The fooSize (" + fooSize + ") of bar (" + this + ") must be positive.");
}</code></pre><p>Notice that the output clearly explains what's wrong:</p><pre><code class="language-java">Exception in thread "main" java.lang.IllegalArgumentException: The fooSize (-5) of bar (myBar) must be positive.
    at ...</code></pre></li><li class="listitem"><p>Whenever possible, the <code class="literal">Exception</code> message must include context.</p></li><li class="listitem"><p>Whenever the fix is not obvious, the <code class="literal">Exception</code> message should include advice.
            Advice normally starts with the word <span class="emphasis"><em>maybe</em></span> on a new line:</p><pre><code class="language-java">Exception in thread "main" java.lang.IllegalStateException: The valueRangeDescriptor (fooRange) is nullable, but not countable (false).
Maybe the member (getFooRange) should return CountableValueRange.
    at ...</code></pre><p>The word <span class="emphasis"><em>maybe</em></span> is to indicate that the advice is not guaranteed to be right in
            all cases.</p></li></ol></div></li><li class="listitem"><p>Generics. The <code class="literal">Solution</code> class is often passed as a generic type parameter to subsystems.
        The <code class="literal">PlanningEntity</code> class(es) are rarely passed as a generic type parameter.</p></li></ol></div></div></div><script type="text/javascript" src="highlight.js/highlight.pack.js"> </script><script type="text/javascript">hljs.initHighlightingOnLoad();</script><script type="text/javascript">
dataLayer = [{'channel' : 'OptaPlanner', 'additional_tracking_code' : 'UA-39485370-1'}];
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJWS5L');</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJWS5L" height="0" width="0" style="display:none;visibility:hidden"> </iframe></noscript><ul class="docnav"><li class="previous"><a accesskey="p" href="ch17.html"><strong>Prev</strong>Chapter 17. Design Patterns</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li></ul></body></html>